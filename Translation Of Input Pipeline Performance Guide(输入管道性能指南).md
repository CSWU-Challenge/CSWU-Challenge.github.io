# 输入管道性能指南

GPU 和 TPU 可以从根本上减少执行单个训练步骤所需的时间。实现最佳性能需要一个高效的输入管道，在当前步骤完成之前为下一步提供数据。[`tf.data`](https://www.tensorflow.org/api_docs/python/tf/data)API 有助于构建灵活高效的输入管道。本文档解释了[`tf.data`](https://www.tensorflow.org/api_docs/python/tf/data)API 的功能和最佳实践，用于跨各种模型和加速器构建高性能 TensorFlow 输入管道。

本指南执行以下操作：

- 说明 TensorFlow 输入管道本质上是一个[ETL](https://en.wikipedia.org/wiki/Extract,_transform,_load)过程。
- 描述[`tf.data`](https://www.tensorflow.org/api_docs/python/tf/data)API 上下文中的常见性能优化。
- 讨论应用转换的顺序对性能的影响。
- 总结了设计高性能 TensorFlow 输入管道的最佳实践。

## 输入管道结构

一个典型的 TensorFlow 训练输入管道可以构建为一个 ETL 过程：

1. **提取**：从持久存储中读取数据——本地（例如 HDD 或 SSD）或远程（例如[GCS](https://cloud.google.com/storage/)或[HDFS](https://en.wikipedia.org/wiki/Apache_Hadoop#Hadoop_distributed_file_system)）。
2. **变换**：使用 CPU 内核对数据进行解析和预处理操作，例如图像解压缩、数据增强变换（如随机裁剪、翻转和颜色失真）、洗牌和批处理。
3. **加载**：将转换后的数据加载到执行机器学习模型的加速器设备（例如 GPU 或 TPU）上。

这种模式有效地利用了 CPU，同时为训练模型的繁重工作保留了加速器。此外，将输入管道视为 ETL 过程提供了有助于应用性能优化的结构。

使用[`tf.estimator.Estimator`](https://www.tensorflow.org/api_docs/python/tf/estimator/Estimator)API 时，前两个阶段（提取和转换）在`input_fn`传递给[`tf.estimator.Estimator.train`](https://www.tensorflow.org/api_docs/python/tf/estimator/BaselineClassifier#train). 在代码中，这可能看起来像以下（幼稚的、顺序的）实现：

```cpp
def parse_fn ( example ) : 
  "解析 TFExample 记录并执行简单的数据扩充。" 
  example_fmt =  { 
    “图像” ： tf 。FixedLengthFeature ( ( ) , tf.string , "" ) , " label " : tf . FixedLengthFeature ( ( ) , tf.int64 , - 1 ) }已
  解析= tf . _ parse_single_example 
     
  （例如， example_fmt ）
  图像= tf 。图像。decode_image ( parsed [ "image" ] ) 
  image =  _augment_helper ( image )   #使用slice , reshape , resize_bilinear
  返回image , parsed [ "label" ]增强图像

def input_fn ( ) :
  文件= tf 。数据。数据集。list_files ( "/path/to/dataset/train-*.tfrecord" )
  数据集=文件。交错（ tf.data.TFRecordDataset ）数据
  集=数据集。 _ _ 洗牌（ buffer_size = FLAGS.shuffle_buffer_size ）数据
  集=数据集。地图(map_func = parse_fn )
  数据集=数据集。批处理（ batch_size = FLAGS.batch_size ）返回数据
  集
_
```

下一部分基于此输入管道，添加性能优化。

## 优化性能

随着新的计算设备（如 GPU 和 TPU）使得以越来越快的速度训练神经网络成为可能，CPU 处理很容易成为瓶颈。API 为用户提供构建块来设计有效利用 CPU的[`tf.data`](https://www.tensorflow.org/api_docs/python/tf/data)输入管道，优化 ETL 过程的每个步骤。

### 流水线

要执行训练步骤，您必须首先提取和转换训练数据，然后将其提供给在加速器上运行的模型。然而，在一个简单的同步实现中，当 CPU 准备数据时，加速器处于空闲状态。相反，当加速器训练模型时，CPU 处于空闲状态。因此，训练步骤时间是 CPU 预处理时间和加速器训练时间的总和。

**流水线**与训练步骤的预处理和模型执行重叠。当加速器执行训练 step`N`时，CPU 正在为 step 准备数据`N+1`。这样做可以将训练的最大步骤时间（而不是总和）以及提取和转换数据所需的时间减少。

如果没有流水线，CPU 和 GPU/TPU 大部分时间都处于空闲状态：

![没有流水线](data:image/png;base64,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)

使用流水线，空闲时间显着减少：

![流水线](data:image/png;base64,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)

API通过转换[`tf.data`](https://www.tensorflow.org/api_docs/python/tf/data)提供了一种软件流水线机制[`tf.data.Dataset.prefetch`](https://www.tensorflow.org/api_docs/python/tf/data/Dataset#prefetch)，可以用来解耦数据产生的时间和消费的时间。特别是，转换使用后台线程和内部缓冲区在请求元素之前从输入数据集中预取元素。因此，要实现上述流水线效果，您可以将`prefetch(1)`最终转换添加到数据集管道中（或者`prefetch(n)`如果单个训练步骤消耗 n 个元素）。

要将此更改应用于我们正在运行的示例，请更改：

```cpp
数据集=数据集。批处理（ batch_size = FLAGS.batch_size ）返回数据
集
_
```

到：

```cpp
数据集=数据集。批处理( batch_size = FLAGS.batch_size )数据
集=数据集。预取（ buffer_size = FLAGS.prefetch_buffer_size ）返回数据集
```

请注意，只要有机会将“生产者”的工作与“消费者”的工作重叠，预取转换就会产生好处。前面的建议只是最常见的应用。

### 并行化数据转换

准备批次时，可能需要对输入元素进行预处理。为此，[`tf.data`](https://www.tensorflow.org/api_docs/python/tf/data)API 提供了[`tf.data.Dataset.map`](https://www.tensorflow.org/api_docs/python/tf/data/Dataset#map)转换，它将用户定义的函数（例如，`parse_fn`来自运行示例）应用于输入数据集的每个元素。由于输入元素彼此独立，因此预处理可以跨多个 CPU 内核并行处理。为了使这成为可能，`map`转换提供了`num_parallel_calls`参数来指定并行度。例如，下图说明了设置`num_parallel_calls=2`对`map`转换的影响：

![平行图](data:image/png;base64,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)

为参数选择最佳值`num_parallel_calls`取决于您的硬件、训练数据的特征（例如其大小和形状）、地图函数的成本以及同时在 CPU 上发生的其他处理；一个简单的启发式方法是使用可用 CPU 内核的数量。例如，如果执行上述示例的机器有 4 个内核，那么设置`num_parallel_calls=4`. 另一方面，设置`num_parallel_calls`为远大于可用 CPU 数量的值会导致调度效率低下，从而导致速度变慢。

要将此更改应用于我们正在运行的示例，请更改：

```cpp
数据集=数据集。地图（ map_func = parse_fn ）
```

到：

```cpp
数据集=数据集。地图（ map_func = parse_fn ， num_parallel_calls = FLAGS。num_parallel_calls ） _ _
```

此外，如果您的批处理大小为数百或数千，您的管道可能还会从并行创建批处理中受益。为此，[`tf.data`](https://www.tensorflow.org/api_docs/python/tf/data)API 提供了[`tf.contrib.data.map_and_batch`](https://www.tensorflow.org/api_docs/python/tf/contrib/data/map_and_batch)转换，它有效地“融合”了地图和批量转换。

要将此更改应用于我们正在运行的示例，请更改：

```cpp
数据集=数据集。地图（ map_func = parse_fn ， num_parallel_calls = FLAGS.num_parallel_calls ）数据
集=数据集。批处理（ batch_size = FLAGS.batch_size ） _ _
```

到：

```cpp
数据集=数据集。应用（ tf.contrib.data.map_and_batch （ map_func = parse_fn ， batch_size = FLAGS.batch_size ））_ 
    _ _ _ _ _ _ _
```

### 并行化数据提取

在现实世界中，输入数据可能被远程存储（例如，GCS 或 HDFS），要么是因为输入数据不适合本地，要么是因为训练是分布式的，将输入数据复制到每台机器。在本地读取数据时运行良好的数据集管道在远程读取数据时可能会成为 I/O 瓶颈，因为本地和远程存储之间存在以下差异：

- **Time-to-first-byte：**从远程存储读取文件的第一个字节可能比从本地存储长几个数量级。
- **读取吞吐量：**虽然远程存储通常提供较大的聚合带宽，但读取单个文件可能只能利用此带宽的一小部分。

此外，一旦将原始字节读入内存，可能还需要对数据进行反序列化或解密（例如[protobuf](https://developers.google.com/protocol-buffers/)），这会增加额外的开销。无论数据是本地存储还是远程存储，这种开销都会存在，但如果数据没有有效地预取，则在远程情况下可能会更糟。

为了减轻各种数据提取开销的影响，[`tf.data`](https://www.tensorflow.org/api_docs/python/tf/data)API 提供了[`tf.contrib.data.parallel_interleave`](https://www.tensorflow.org/api_docs/python/tf/contrib/data/parallel_interleave)转换。使用此转换来并行执行和交错其他数据集（例如数据文件读取器）的内容。要重叠的数据集的数量可以由`cycle_length`参数指定。

下图说明了提供`cycle_length=2`给`parallel_interleave`转换的效果：

![并行我](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAArwAAAFyCAMAAAAgbvkoAAADAFBMVEVHcEwAAAAAAAAAAAAAAAAAAAAHCg8AAAAAAAAAAAAMCgdtnusAAAAAAACTxH1wn+dtnuttnutrnOgAAACPx4AAAACTw3xtnuxunuyQxn9tnuyUxH1sn+tunuyTxH1tnuuTxH2TxXyTxH2TxXxtn+wAAAAAAAAAAAAAAAAAAAAAAAAAAAAZDQsAAAAAAAAAAAALERkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABdSxFtn+xtn+yTxXyTxH2TxH1tnuvgZmb/2WbZ6tP2smt7sv93rf8fLEJxpPSj2YoAAABNb6Zun+1vofCh1oiUxn7/8HD2/+99tv8UFA7/3Wf/629oilj/22cjLh3b7NVhglP/6G2WyH+e04f/4WopNyN1qv2m3o1RdrBpmeY2GBieSEj1b2//+nYVFxn4cXHwy17d7tfL28aYy4GOv3rjZ2f5//NuXCr+dHRzp/g5LxZVfr5VRx7U5c7o+uJHTEUKIlAgIxz/wnX502K5nkptkl36tGxllN3w/+kpIAn/9nMXITEfHBDl9t4wNC+eqplQfcRbY1kEBQQcHxfr/uUnOFSWdySUREQNDQnh8tvRXV6ItnT7cnJ9tf8/HR0MEx8LHD6bz4TX6NEWHBJjPw//zXuFbi2ygU3C0by4x7J9gmo1JxZ6YTIJDRMSGieCrW5chsropmI7VoAaP3W/o0z/83PbulV8pWmUoJIrP19mUir/u3BefVCotKF4oGZEWzqLlYdSPyJRV0/kw1tBX44tJA5UcEdSJSU6PjgwQSlkhlVjkNevvaqvlUZgi9BGOBxzmWLSs1T912UbJzo0QEhHZ5o5TTFweW01THKfiD/Jq1CIoX54gnWBi31NZ0KMZT1eSScwRmmQezkiMkopLCf///1qbVXqamrYnV7vrWieckUlJyDHkVexUFBXZmlZd0xkbGFjdluk24slFAtvlV+v6pUsLytqdGpfZ10/TVN5NzckSIeIxf+DfEK5lznVYWGitKbeZWWaRkby3mZqcGXbZGTwv3CeZdpaAAAAPnRSTlMAnrWuL6vuqTOS7vURUe0o7vr4Ayh6DdYOdQlGQ63658Z/9bFhCYfbRuzQwfpsKF/65SE7GvEV9pnxeF2p4JIIbaoAACAASURBVHja7NxvaNvoHcBxxTGzw2y2IQz3Zi9t+Q+OZzuO80402Bb6A13WEEIgCOlFod2LBVXXsuMK8k4rDF0NzYuiEfaig0oIUcp8cNANFQa680GNIDu4F665vbmXe3Xcsbd7Htm5OrmyJm7q+K6/b8GWHzUWTT95+ki2SxAQBEEQBEEQBEEQBEEQBEEQBEEQBEEQBEEQBEEQBEEQBEEQBEEQBEEQBEEQBEEQBEEQBEEQBJ25pZ9Ar1k+AYwupkV92IJeKwvwXlAR59sG9Fr96m3H+86b6FR4JZGGXif+rcf7yzfRO4AX8M6gN/Jt/RngBbwz6Oe/OP/v6k8BL+AFvBDgBbyAF/ACXsALeAEv4AW8U/2tM4LACGf9KiH8Cl7gjz2VAHgB7wwTNKfXc2SROduX+TJiy8s9eUIvz/uAF/DOsIZrWpZl9lXhTOL7Q3QnSn1OxGhHg/xgIABewDu7NrqWpEqBrfsMj0ISw6UAP76nw8Hxw6MxhNdiXYVuclbQxHP3aBoesEMG8ALe2XW/a8tNReEMSXMczhc0LlAF5FFTAwdbVoPAEXjf6QU9RZM8lQ5pa7ZpqYzImQhvM2g5Cs33+rbeAbyAd7Z4NYXHeD3dND1H73fMQdNpmcOO6dJ0x+60TE/0rKEVaLreNQ9ltDQQfP2w1Uczb4jX01WE1/GcDuAFvLPFa0qOKum27xqB5gyHNMNZnG/1e4xnqZKt0n5Hb3isR2utvsaoVsDwCK/tqdbhBmdydBB0zENPkmlaBryAd7Z4D1nLNPEJm2vKimMdqqpkdn3LazC06fK+35OGdsO1tPuqNXAkx+ygqRfjZVxDVU3Jb+mmYetoQhYAL+Cd+czraD0NnYy5tqyoLIJs2q6j4/WA7cqubqJfDddmGpyBldsDbYRX0fqtiWUDDTMv4L2YNS++WhDiNaSGwvRk1fQaCm15rsnJzMDGeJuSFWwooo+v5WK8giJZtj6Blwe8gHfGl8o6pjYih/Ayfr+l8ZzlaUbL513LGegIso3wmowi632fVi2Xx2te0xV4xmMNrkkrktsLn0EewqUywDvTFykG+ggv7/VlXpDM1qE9FBzb6gwQUMnuDDp9XfB0hm9KZv/QbvlM+CKFJ9CMNrSkJnqkjK4Iy90uvEgBeGeYokry6H0KjoTf6OC7A45voGUDN1AZgVFdV6U5rSchn6LmDgJ6NMlKPTSg+Jw/yVVVecALeGcYo/BHG+Gt2FR4UTW8jSbewTRFBs2sQrhPEJviCCuvCKOBY1Mtc3GrBsALb4kcJ6r4TOwHFeAFvPT4vQuqLwBewPuDfDO6IDI04AW88EkKwAt4IcALeAEv4AW8gBfwAl7AC3gBL+AFvIAX8AJewDs/ePnxp7x5frzFA963Hm86QYZ3K6vzjJfnZfyRgxePYeb90eMloytEIhaZHCqspUcbRSqL72IL6HE1Vi6X86nEvOJltMPww16M4uq4QU+UWvgzBE234zOA90eJN0nFiUQhPzlUjozxptgkuk2UU8hxrrZQTBXq+eX5xKv4fTNw1JYhNbum63mu3Rc5C6NrdO2eAnjnGi9Jfrf1/aGX/bbxZrFWRSuC9OROavEY3mQ5SyRz+WiaJNMlo5CeR7yCMjBUkWdkvSN0dV+gBc5QpTFe/aLw8swMOvb+MmHmRzwHvIlkKpUN96+UUsVljJCMp4rxlWSFiCbxjgq+JaPFVAmvXKvVRDZVjJJEfKGWyaKHaGwVPUepQn4P71J+hSwY8RHvDFtMzyFepWd2Gvjd2Y6vdHVZYUSJvXC8vOz8acoc9dT5k/+Znjb1Ac9wRJk/V7wrizWKqhcqBJEt56hyrUgSZMqg8vlIuURkWEyzWK+isXqZylHo4WI+hraMJJnKGbkIiZcNcbSHqtWyJ/GS+QUimouNh6JGpDKHeEXVchuj0zala6uOI/Vt+qLxNgPj6R+my/jqvdP11Yf9iQV9s/Of6Y739N69Ux/x3ug7fW54i1hZsZYiKmW0hE0v1LNEll1D/+LX0Y4jvHEiya6RRLRMJYg1thAlqmVqFenNknjNSxaQbiJbjyRO4I0i/yU2dfRjQlHJecQrWV74LWUUpWvoum3ZXIO7YLyNb/5ydWeaLl97r33rdLUfmBN/uMafH013xKsPv/7ylEf88t+/v3+eeEmkDC0GqnEENRueYsXSi2W8PMh8h7dUj6cLVHiKxhaJhXBsoV5BZ2KjE7ZEBqMk89TKCbxFKop+OIpH65NCuTiPywbHGmxgu74jdE0vCFRaGZ+wbVzYCRvGe2marjz+cH/9dO3/9Tje/+5MdcQP9r7+3SmP+OtzxkvEy2whVUX7I+xCZimTMajVfHgBIWmUXuBN1KjM0lIqxi4QMTaKV7M5jLc6vtqQyCZTMSN/Em8EnaK9wLuaRxPx/OFl6JatNAWl0enLaM0rKgyPZmMj2BCYjZatMXOHd2sL31x5+c7dN4H3SnjArfnDS8YjFMsW4kSkTuUpioosrVDhpdts/cWaN54wcnhnPlJ6Gd5snq1RkdpJvGkqg+b0+tr4KkWlXojP46WyJsd2ZYYO2EMlvNoQzsI22hI4NMTPFd7NnWeI0rPdy7tbm7uvmnkP9tu31g/Wt9Ht1Hh3N7cuIbVb6MCbm6/G226jw27fbW8fzARvAl9vWKrnycV6+CpYmkxQo5mXPcKbMeKJ+uJo9iSP4R0tG5Zr5RI6FSuUT+DNltHsm87nVkZDJTYzj1cbaIFxDbvTN4Zys2OP8PIKZ5nDltHSFHqO8G49u/357s7tR7uX/rW39/za7itm3v0HX3xyHWF68snBtHivPH70/tb7zy/t3N7be/j5ztYr8B787cn19e2Dj5/c3J4F3nQmhu8W2XR45kakY6n0khHyDNe8eB0cYeNkoYyfIlvIHsNbCfGWWLwcQCd8J/BmqNXQ7EI4Vs3llsn5fIVNVLvDTsAoAueNr+UIijoYDl1apOcJ7+6zGx9d/eDd55t7Tz/au/H3a1v/f+ZtP2H/eXP/+sfsPw6u32239w/2b91t31k/OAPenec3Hu8+/uzZp3989+FnTz+9/Aq8N++xD9bvPPjNvd/eudNGE/72nbvtu9tvDC+ZYdfilVK9QK6U66XlagQtUZdrVHY5xeK5ky1kq5kaGw+3lpM5tIUoj0/YSuxSNp2n8L7oarLAUhUiN/kKW340Wy+xhf+xc76vieN5HO+yCzcH+6z0T5idzszNlOns3N6zo3aGwduBdlRCEMJw+8Bi8qDhZDTbKm6nGL20PjAPhltyU00wCyfbiiiCiQh5kJ4oC0GJKKU9YusDH409DvZJy11sp1sF26jXbmXIp9DGUPzQ8PLN+/Pj26nHkxNfrd1Yr0Fzt+HV25dvn6ma++rZ17/cevry5dPnfxwxeDnWdpQsb78p2FbdDha4XHmDmd2QGMR5v2SAE1IGwWkx06JdA8Fbep2FSqW4r7RlW0V9WUgD3l2hArvUTwuywkgSQyJ0QE6Q8LXBe/uTtbt31u6ravr4vvHR3ScTJ3PftUf376n4jasI373zxZ1bY+MP7n71aO2eKsR/uNtW3i9UmX14z3jv9qf3VfU2qo74t7+589nYvU/Odhue3PryyYdSbeKRcU211ZP6SuRVwOthi46w1TwDeXzFy5U3WDlcyOCgn5CRQ6yJEcHKQpMQxDN6+4b3dbyUU62vJevYmdOA1y8LuDPj56mAv8n7RVoQWkKGujbPq3qBiYmpE+Q+n5p4cFpSTT+YmJ46sRGTEw++HG83I8baE7a2e334uP3L0+3vD6cmb3926/QtJsduT/5+7NaZM5ievD099cHsjk2rbzw5PqbDexXwsjsW37bKGVAwZYFLlXelQhBNJNBsyUgF2cssUYcmeFEgXOBg8Bbz9p2aKrmQnUNXNeAVArsIw2cwJJHZw0MyYsrMBw5o+PrgvWx60VOs9WX0m4Q3WbL5Sm14yya3lvJiop/hA7JEiTyPCcgxsTcvYwg5GLxl1r2Tt7ThzbNbWsorHmfSGCMglCRIpgyN0Ti+cAPwThinxj6a+GjgDR+hZVuSAyyQlc2bZzSUF3NiskBXJMYvBSqCs8nv7TUx54Dwhj3q5yRrgWybb8pWLXiZ9G4lI2K06haYgwqNMUFq/Qbgnfz0sQ7vqMGbD3tYtzUbfV2Os76yVrehIiCJEOGUW6KRIYkFRAqlmSU5OFDBls/m41ARzXmyJR9qAbQKNgYx+eGAwAjYnmisIAst+hBDwF8d3vHPx3V4RwteczHsKZUsM9YCWqslPWaNPq8rICFOLE0mEojMNyWJlhYkTD4T3r7ghTZ34mE7YLaHa7XajhvSapU1aafcXBElZwDj5WZA9GMEwYCGXx3ejyo+DnhnZuxuu11l1uouFOwQoDFhA50IBSMU6HSClMg4KZgQQJEiB2mVzbjVjEUVYiBeyEJQUWvChlAGNZsTAWE6rV6nhQCNkDq8OrwnSgiYT/TWDEGQ5m4DBapmU0UHhg0wScKki8D2cJgaaDxsNp9uUQBqQkB7PKwmhOF2XpDEYdglCkyQvMbxsA7vdcP79RAx9FZZ12IOaADPLw0giPxSOp3B25Hx+58t//dW2WnC86ROumtOrML7cvBnocN7c/D+5Zsh4tV/3m25+45ix2V8XbUJF4RqSjsCZP72oiPj9z9DwyR0z6H/nr8oIQVSnS9X/vXts8GfhQ7vjcFrWhgqQqF1X79hMq3//TxC6/2GL9SZcc3k6z9jR7510w/rff5RSz+EhnkUOrw3Be/2kX2IOAr/hCN9Bk58+/y7s/jmrz77UHH0JmPoNyO89KdvvhsiXvz47r+xgeN3Orw3Be+mBRgiVsM/LYJ9xmKnk3z+Tx/Ud5Z2NfbhC1jNJYL9Zlw5+HOHW37Rt3t9++O7De/AocN7g/AOUwXNqfAahjmf8PwfPmioumsrl3D1m7EN7+n/FRrsMPBTFd7ZQUOHd8Tgbfe5gPaui9Vq7XmeZ6sLXvykgYDjfcD7oje8wElCc9GsJuzd8uqCl8RBykCRLpi6BN4hGoBd8HpTanjPX5799OrwjjK85my2CBQLM1DWs73p7tX671Zehml3bRkGHFZ5AXdBTZjNWt2b29txyKwBL0WLTtAAI2kEvkZ4Y41IpFFPnTFaP7uteHV4Rxheazhphwqvi+V8LpdDex3n6VJeyrRLGXB6yd8eNLjaMwASJwdSXqjgs1vjaPkIfZPL5Td7aW8HvKQTWwsEDfPHxkAQxl1qKhLGcfCq4a2GotEcWve2FdibauzHTq7qLLuc8urwjiy8lja8O9vxXNhqy+Ze91h36VJeKrQugnja6CddSCBN4U6KTiPkIMoLFUx2i6dmQX1Z21zYV7BeDi9CGA/nSQozJuZBMU2TBsSZZjrovQp4vfUqt5xqRKvLKSXS8C4nHY2Ut9GYrVdZ5VyPdXhHU3m5eMlhBWa2PL1Y6lbehWaLRCq774NpnsBalEjwBH/BusuFyuu2ltBsdNtWhLZy4R7S2wXv8QKPLGb49QTZ4nledDabPJ/Brxxer1fh9pf3uVp+P8aZqvVqrYYqrAPNs7NeHd4RVl43Z2dZc3uey5XmNJR3KfAeZ3j5wCUfzoumhBiSEZ5wgoMor89tD29uR9uH0FbRZA+n0q28fLOyRxxiCZpnSIyg32NIZYkmr9g2+JJJXzQVS+5vVHMKm29EopFGPsK+USK5yLIO7wgr7/aOCq/KkLUnvF3K61xi/EyATy+5kIQsmRLp9vnG971XvC9UXqCQhEr9wsvLMgYSGSETFCsSxtMYs6LeC16p8s5WcyybzO8vK/tsLars1+q1qjc1q7DsRj1Z1eEdYeV1o5tF1TZAZltP29CpvKBziZYJOZE4ICsC0VpKpA8RF7PbG94Lldfs4WzlnMcGQKs5Vss28HKaaEqIX1Ve/lBVXozGEV4KXrFtqG1sbLC+OppP1hxKtVbnqrOqkaiyyzEd3lGGt2bPZ6FsjnVbC9FeBVu38i4gzJpAZg7odXmPDiXEg/SidMH5hBcXFmwldg5CfYU5M6pdsPHH5KExEzwINP3BPVV5BWk+fSDiVwxvvl5XHFwkpNiqPqWaj6k3Uskqiy7Hajq8o2sbdlAPajebN/Mcl0ez1hkN5T1AED+/mNmFW++J1npC3BV4IQ0O1G3IFdACZLUnHa85h0erVYYQx3stEw37E6KAHbbhVRNK+FW3ynwc5+CUGOdI1qINJYoqNY7jGrryjvqQIh6PF2cAa7a04wEsRa0+b5qiGJqk07izIjEMkiAqFZEcpNsA2Mv2chEoWs3b4VLWqjGkACmGwWnRQIm0Ky1naBHBMnICPh+3XQ28SmR/PxJbTinVqtKIpSIRb2y/qqQUxVtXFL3bMMLj4dNzCdDcnMWsvdsQbM+Gqf+xd7+hbaMHHMfd0NIzc28buVzZbdxgEKd1mgSnqdM3pyvbyqy1Uu9053nm0byUJEfYSR5Zj+uWglnY7rohZ6sadR2q3myMTTAYYtTIe3POxeyFR4f3zq9W/GIYg5O8CYUshbJHctokpbmlqW055PeljR0rjoP66aNHf9zenLtzc3b246tv/e3H7//w6vNd2/Cdd99x/6Gxd969dOl7/+/ahjv01T68Offdr1+9eefq7NzHc+9f//vs3JZTxc3Be/ca7a5765wmvnbNvfeNu3edE8c4zrt/L8z5y2dcmPOD328/bbubaxte7MKcD3/xuxacHsaFOR2P9x/vXdpD7/36n/dnd2hu9i36e7P7//rJg/OP++ZPP/rZpT294if/3fEV6Qtu6/6/f/n2+T30gOK99twBr1d4+z+5sqc+Ej69vss+zfzx3s83U/f2glfU/1zfdeqftr7irrv3W+HKH547vJPCK7zDh9GL1g283uBFCHjRge14KwJe1I5ea0VYrQghhBBqYiMvoRdssBuMvOloJt6hKeP7pNEAGHlTl70S7chEoXJral90Cni9wpsWmU6Ml4X51Ln9UOrA4/1SK3oVeIG3DbUEwCvAC7xt6OXXm//n/zXgBV7gBV7gBV7gBV7gBV7gBV7gBV7gBV7gBV7gBV7gBV7gBV7gBV7gBV7gBd4Xw8s/7qlHn/HpUw96gTe1eZsC3gOP1yzaTkVzmzdLI1u/yNKoW6JZMu8p3tSjauNbrVfX6C/gbTlevpPxEr4sCKqiCkKZJ+7I6ozBuhXPR/knQy3RlCRlyyWEougp3sr80uotiiw1v1RdE244w28KeFuGl5d0IknEueNG70mNMc29IaTxsE42lvOPl/MSac/Iq5lyVs3LpsYTqpenPwGRiJa2JHpDf74GXpbNSRSv6jHe1KOJaiVVWT+3JlTX1BspevdRJQW8rcFLJM0upC2Z0A2xRTfOJiMxptbYXMv0j7VIH7ScJZps2u5yQpc7Y55syqRNc14uLWSjPDGtdN5i7Gwta0oynUXYVrqcNXkXrzqjFvVOwFuleKurq9UNvPTuxHoFeFuBl5fScbpFNsqyZCqCQStLfHyRJwyvGQlGsoycYAh0iZJNCypdnKkxWqYsMYwYM2Jcm442uHgZrhwXjHxNSC4KM4wl5ElcTSbVpCY5eIVsPMOMeY63Mq8sTD9Ux2+PKy5eendBXW3a2Au8W/FyMTZpM1peyUkWmy8W7Ryb5zINvEKW52Nxun0us2UrLSeEvL28XGJjmkG30PSZQqFdeEUXr1hjsxJTyo+tmGraNPJSxpBXYqzzTXlNjdlqbqUD8KqrU6cWJqdXHbwP6Qx4erqq3pgE3ubjlYgRJyIhYnmRt5WiKIlSPCnNPMEr58q6NBZTYmN6PSsU65IkZkpm2/E2Rl4xb5g6T6xYIme4eIXcmG4pBdGdNhT0PGumOwFvVZ2YbMx5H1aV1Rs3VulgDLzNx0sH3kSUIaKo85Kt2mPcGGNswUu0uE0YrqBQplxWsFe4KGPkTK9G3nzGkvhCcmZmZiveWGPkLehyPJ4VOgHvqerkucopB+8Eu7R0amkBI28r8Ebz6rLIa8XlosVbSjlWKCyyhc1pA7ENuju0gTchlNOFbFItat6NvJauqSWzzhix7XidkZfotmBkOgDvvDIxXXk88s5PT1XoPhzwtgKvssxJxWQmk9Es1shkhExNZJ7glWslaROvKszQ5VndA7wxtebssAmWbrI1opXYhCnkJbU0pttswR15lQQhdOLQCdOG6fHx+bUFtrqm0Dnv7bXKqoKRtyXThgIbq/NaIZFTTEvJF5dtmdOZmUVC8ZpqQi5lN0ferLPDZjGcpGUcvNGY2r5pw3ImwdEdtrglySWjVEom81q8JmWckVdojLxGjDC6nBRs709STFeXxhdu05F36WGlunR7QVg4h6MNrdhhk4W4Xted/XfTUu26KEoMX09mSFSKLit0gqBtxWuPiTpdriUXx3R9pcZuGeVai5doRY0wxCzKPM8UygnZtOWiyRfpFFhedk4TOzfO2RMtvf2ksSenhyuT86ur89X59ep8qkLvTlQq68DbgkNl0QSbtGWtEFc0S0lL7mP1GpvTZGsmoy3HSWN4Trh4G/Z4Js9mZSatxiXSJrx0l9L50STROf3HRTlJ13n6iKjTJVzjdJ/7BYzO7cFuUy/MSU1SqZWpqcpk6twknepWpm5NppplF3i34SV6wlANQY0XJJvdwEtITlENNVNkSjl3bpFw8dbUDXt0zumctYibIi6J/OzWm/0NgXf76WHRzJbzMY0jWkzbuEJHJ+l8uWbqTNq9kEsyY6ZEPz7ZJEtMrFzOaiKu58X1vB5fmKNz9Tq3uQFuiK7XozrPNLbFdEvtbrS3LOec5bgYHXg9xot3UgAv8AIv8AIv8AIv8AIv8AIv8AIv8AIv8AIv8AIv8AIv8AIv8AIv8AIv8AJvk/HaK1wnFtWF1NTkfgj/fatnePvLy7GOrKDemNgfqcDrEd6Bo+gFO9t7wPG+3op54ys+hFrfGy83vzeAF7WjL7eiV7FeEUIIIYQQQgghhBBCCCGEEEIIIYQQQgghhNDe6+329Z44gfWA9l/D/oAvcrIPKwLtv4JswNc7MIAVgfbfpME/Ouy+LbObfhw57Ly9eHCwsSgwOIz1g7zv9OkdFvSEla6eQDDoGwkOHQud6Xpp+Gw47HcMD/X39Z0dxKpDXtd1cuDZDgdCyqGBkTNh32BYCR09OxoKhc52scFuXw/bH/SP9mHwbU6Hg360x/pYNux/JsSeUZ8v0hfyDfeNnvA5ZLt9vlBfYGT0CF34knIE7pqz6Tt0BO2xMMuyXc8ce4OjkQbek/3OXIEdcsbpvsjA6LFAJBLpDwcAD3k8bWD9OxzKfRrvMeerQxG/EnZi2dNYecjbhoZ2PFS2A95Rf5A2dGwEKw91asHRwLPwDpxxJxkRHG5A+wxvX2RY6aJ3BsPO/htCndkAGwo6p4cHlZD7mTO/6A9HnOMOPcGwaxmhziwQ7Dsa8Pt9kUNB+tmJLmcHrccf8HUP9YdCR7C7hjq53pFId4BiDTgHxXojzjShN+B8DAwO92L1IIQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEII7dO+0ope28ULDx09yOEt6M3o+Feb3/HP7+KF+/98+dsHtQ/u4V28zeiLb7ag3eDt+uDt8we1B38F3mb0hRbo/dyu8F7+/psHtd/8CniBF3iBF3iBF3iBF3iBF3gR8AIv8AIv8AJvy/FeuEi78NzPurD1ZvuDwAu87Rp5L1B03/rRxed81sWLjedu+2sAvMDbTrwXL/+Pvbt5bRvN4wDupCmJwT4Z/wl+JzZ2HCc30WL54ZEEHU9LCAUj7ENLJocZnnG7KXRBs2taqGY0kEPQkF1Cu62EEd1SFQrdVoGCpi6t19QpLdT19DSwzKllwfd9JMWdeCbbpEnttOPnAct6i+TDJ9/89DySo7VaLa1Yeh+9nGA0sF7O1GrAQuvY5YuNPvEleAne7RpoQbVSkWET4OAEHMUCYFnkWM5+pzh7GdcWALt0tlEUqimQoSlUhgzfzV+Orsp1niN4Cd7B4W3mwEqWa4plLFMocXypxvG4kkAlk0U4TYFpcsiqEgQKbzMp3sFbhxWBB2XRwlvVLLulhipKBC/BO1C8dQGwtAkb1aamNrINqa1jx5qhS3oVcWUdL1ezRaNVaQBGkvA2C2+1npMlnrfwAsSIHAKoqjbbOYKX4B0sXormgQZrDKxLRUaUGjm5zIuirlUqOFpVQ1NyeQ2qbaah6EZbrbEWXtVgIJPHeJFpNpSaKXBmLa+TsoHgHSxepS1JdahnG7DYAbLe6eTVFodzNVtTcBrTnU5ToQy8jVZbKx1U14GNt5mvKJQpMly7ooqVSgtxPE/wEryDxpvL5dpGKWsoQraoqO26BFVBbbBAyOl5oEmSrJYMtUrXlAreU5SRg7dTha2awgCtKSnNZgPgMpngJXgPoGygs4A25BLG227qulGkZIblhHbLrKiS1lYFQy3TVaXd0ltGkXPwZrMabCoMT6+UFXqFpghegvdALtis7lkaJy9OV63T6TBFTtZ4WpCNpljKdzQRJ2+ZpxQDlxRFposXoLoo4g/FMmrJ6iwjeAnegffzqqYtjjZEAfEtqFU1qCFZNIpttaTBYk2DiqApZYSaolZuQsOueZVWlsLUofWhhPLmIIVUIXgJ3kGOsBktwR5kQIxU4hDVrOQqGoXkejvXLvOmXmk3Nb3G6DXAlpq5XF2zxdckAxcKdKNetvqAnQ/GAq2FyAgbwTs4vKwgbM6UTIqlEKgWqwAAWauWBUSBUrkoILNUMnFlADhrG+fsK+B3jqqV2J5D9enmBoKX4N0+egHbnbEFIoTjEyga4K1lDiGOBayzE2dvc1LWGTvuTVrnCAQvwTsovNuLbjHUR9QIXoL3PZpQIngJ3k8Tb/9uzSV4Cd7hagQvwUvwErwEL8FL8BK8BO9HhXfzUoe1mrPCmbIE70eNN+Cz33yB4cXLvtPeTgAAEx1JREFUImC/rEe/AEDIeiaM7RkKIHgPAG/Km3HFvVtdTnSXPGH7e6vjfo81Tbhn/VOB4cQLQFnTmwwFuLKhaVqjzIJaw7rvBZSZdzyeS/D2Ga8fevFrbMuaw3Dzu9anoNvKXH8k4PJNQhgKTcPZ9DDi5VBDkesVqJfoNpRVWVGMLGM/YLsiyTVE8B4U3kkYxni3/muAkenNpYlIEOP1jI64fEEY8wYCE7Mw5hlCvDQDdZTHXltIrwgImJIoFBULXVavELx9wov/ysfHnIrVlZ4Y8ziVqydu/fVPTcR9vXhTE5lt8MZDCVcYxpyjBKHfN3R4OaquIkSxWa3JYbyAo2uQIXj7jNfnTsxGk4emLLrBUCgS8/pcEyPhWCToGpsNJSPjU1vwptyhZHQy8Du83mmPb1yc2vxtCEUyQ4eXLyvNvD1DI6mO8iu0AWsEb7/xitPJYDCCMaajcNbvjsAplxdOR2PBVFJ0+2dhMvUWbyaG9xiF7t/i9bljrlQk2r1Sm4UTw4e3iGtcp18M6YrearWhTjMEb5/Lhsh0ChuEh1xh0Y8Xw9DvCk+H0i5fIhK2S4bEW7xBGLbLgvBv8KZjQXyE0V+v7xLDiFfLOsnL66JaqdQ1oYu3RfD2K3mTs9Z0NOLJjOH3lF8MYrwW41QalwDxIJx8izcUDWTSgSkcvb14JyJTril4eJjxopos5e3rNq2kV0yW4rKAd/DmJXXfeKud/F7aykp/9u35uWx29zvTHxrvpH2VhSvWQHA0GorYyWvrS7ljuAjegnd6JhKJJKdxxm7Fi9M56XONibHuIZ2AHrILNqSLZh7RvKyW7N4GzqqDRa3DZ2m1XgL7xPvDuT01Sf9h103S93aOc1pz1+c41wAfGK8NNTgTj0fhqHvSL1p4rf2nkng5sTV5p6N+3Ca9E714A+PjOKNj3VWuGEwNX1cZb8pKo1qsi0Va2nwml6MkqBWLbdjg2X3i/er7PbWHf7vzj122O6//srGnc6zBz5/v9iSXZPrD1rxJt102hHBgJnxW9Rt08HpiM1b3gXdr2eCEazjdizcdStjFsdtZFYaHA8OHl0JVSVblOgNQUxKcETVg6rKsqAbH7Xd4+NGpY3top77/76tvdtlevfn73s5xHr7e7UleXfnQeCPJtAVuxHXIDsxxuJm8mWTI6veK9VywJeyqINGLNxxJO3talbLLOz0zNozDwywqlZmiiTjKrHVXAapcLNYA2PeNOddPHNlD++fav788usv22X/OnNrLOQr34E/f7fIcF25/8OSdCbndVvdCAuKqIBaCs76wiJH6/HB0Mhi1amD/Jt50FI77R2Esg4l3h4dngoFg1BnhGIXRQ+MxGPmDVrw73lUGEM87X8PM/loK8/y7v89gv3jnrNdcf/Hah/8/JzlQvL7kbDAadePQDSSi0VgwHgwG4iNWwRDwR6OjkxMjk67w4TGXdxzHawrvGvNncI0wsnkDQ2rW6xnxO/OZRCyZjPr/uP9h/uDu590Wb6GASS08niscWbBmf9+O9eC9sOxMV98H7/HC3JG58+fnCoWFucJ2fI9vxbu6fGEeHx5PB4XX70ulnPHcdNwynPH5PN1lq7fM47KWA866dMpWu7mEf9wT8KXflrieVCrjchG8A8F7cuPaQuHGtccLt9bX1ze2k9WTvKsXl1aPLi8uLS3P7x7vyeu3Hp18/NXTky+vXl2/trBT8n5z6ecrF44efXbx8vyA8AZdpH2SeNdeLBQ2Xi6cefHoxoOra8d2SN5V8fTl+Qs/wtfLXxxdtdN3dXVHvCcefP30r9evLax9/eDG0xdn5nZI3i/vw5vL86uvxSvz3aNvPQnBS/C+xXtroXDr0YN1XDSceLl+r7BD8p6++/yLsze/vfinxWdLSzeXrzx/c/fJ4vxOeB8+PXVt4976g0KhcGP9z8ffnbyf3X/9ZnH59tLnl8/evLv0bHXxzpO7l6ws7tcFWzhOVH6SeE9gvI//dW/tFlZ78tHDjRM7JO+3d+4vX/7ll5++e7K0ePPn2z+efnJl6cnZ+f+xd3Y/iaxnAE/bmyYnbc5F2/SqbdrenYv+AZuQgr2AC1kCOLLAmE2aHMuHlYY4TBAP0ZOFCR9ppbYX6C7MhOkxmyo7HRwdIJ6OJxDEnEgkoIRoKkirOdtVm3MuerFJZ9gv2YM7SGWz6vtLBGbGzPMm/nzy8L7vA+Lyjk0s5OIwX/rSEfjNmVflLaAZx1F5GGe8BMOVkAPUcoTioZ7JC7jCmbdImkiST4dwPNlG3pbMizgJL86kMKeHYHAsQDEo4WA43Cwmb9xki2eTaUFekoRFMu8xlmJ1XMZJWBg8w51aOEqFc1QQyAvk/XrmjUy4qklYA91esC/o35h5dYgTPzkps5TTgXm9qWGM8eGOzK64vOlsBCrG8noINiWrYpn3mKJ87FM8QBCoFz0+sqSYSZm3DOQF8rbJvMk4nJ/KuqB0JQdrRDLvsIUZTiHsAe4t7OFOKsNlHCxqEZfXVtXCdjK9YdpaTUNvzryju6yZ22Usc5lTVIWgPoQrjzJeDMgL5H1d3qqtSKc10q1YpFqx5/VSkcx7YLE40VH2GEmhzMk0lgn4KI4SnW0YK5JZLZy301XSvgVLxWpedjQ1jCMHRJnDyoEjZJfD0CPEDOQF8r6W84oLxaILguA8SVdd+g2xeV4WQZiMh2AdllM0gxGY78SHmUVmG+D4RHHBBEthU5Um47DYPK+HJTwEhiAsMltKsXwQPkZ59uWyCJAXyPtqhe3Zwhqs1eo14itsjubymtkxaw4GQ55JvmRQeURX2IQYwr01eq227SpeS+YVAoT4mzp0OkfQE1IxHLPn0M3KgLxA3svcmONhyi/r3V5tzAkRZcLT0405gCsgb/zDj7tA2BKpOo+9vdGWw5P73cWQKo7PDTK613JpD//kq19dkD9/9Tcg79WWd8zWFXbnU1+HPD2e6i4G7VccdRjjFP3Ll3+9KF9+AuS92vLmxrpidTiFdkjq4HF3MXJzJ53GQLnp+xfnMZD3qpcNXcGXDaMdIpQNXeFydh4Dn3pwYRYrQF7whq1HnRRxp6fTGJ7/Ph7vuygPkkDe6yov9PKhh50U0PkxgLxA3i7k3dDrIakGkkLa2/qPO+ikmAzKZLO6yeBFOik2YK1mA9JIpfpFeFHbtpPirLyzQZWZv71j0tyBvInxB+PjL4/dCffz0wkg7w1YYZvYMmlMkQ1N1R7LFW+LZd7Zo5JMZrYUCuYLdFLA+WoahiLFxYWcve3qcGvmdZRTlpBMRh1ZxOVNNOhcLll/rqy71njYfOmO1mtuIO91l1crdFJkSZMtt5W1TWXFOynUFpmDUOyGzCGHIzSrC3kcIRF5IaGTYjFPp7P2SLZqj8AimXeUU2AemdmrIHRmPoZMx4fynFlha5G3vkrukLEon3MTCfd4NLmfcCfGEwkb3TeeAPJec3mbnRS24sK9uF6rJ1dNYp0Uao4y6zC/1xPCfKcZD06wp5Ssk06KyJZptQpr9RP38tCbM6+KGy4hZoKbxs3E01MqZCEwXxl5tbehVd7kw3F3xebuq9PkfoKeridqO5VogqR3yKgbyHvdMy9tgnLpaoW3Vpu3Z0U7KcqpEF5I7U6WjqmCl8g4fRTHznbSSZEt2uN6qcY11m4/b4u8Xl+K8BRKwzhzzJY4yuLlGNSHhNrLa69H67lojUxGK7kaqY4+TNLRWJRUkzuxhhvIe+0zb952gU6KzDHCoNRBiMGCRIBivIyH5cT38+ZddP5NnRQt8h5TKOUROikIPu2iPou3rMpwmKO9vPdiudhqoxZtJKKrjai9tpPbT9QbZHK/VtkB8l7/zFvNup71sBXFMq/QSXHKsgXMGRS6HNSdd1JMRDYmhB42jakimnmPqfIJf+MAjh9x3IHQSaFCjtlge3lzjYf7O7m+aNJujzWiOTdd4YtfN0nX+kgg7w3IvGN5zcJUXArBkZhYzYsELJj3FKd2LeipjDho9rBhHfSwpcmq1rW6tQFJi6uiNe8ua0FRyhIgCqgF5zMvSqkIL3WOvMJbtPrqfqxei/Ly2vvIZG08GqWBvDcj88YradhF2rN5MpYV7aRwWnA1qmJ5eY/MpWms2T1cEu0eTuaFTopsLFLcslchqVjmZUeFvncncYIilPoIOUBxX3P2rJ28MbK+Yyf3V+sPaXWjEYs27Dv79jppA/LehHnebDHrgiBXlh6z5WHRed4CgrCUI1NwMCjKljJYynfG3XPnebeKWb7e1RRtY/SE6ApbsMQEsTKCFCw4f3OWxfkYpy8731+f5yVpmq7X+LKhUq83hHKhUcnV+6JR/lQUyHvNl4ch6MVH4EHtPwWvdYWN91Qn/PCPPEE2hZ/9SLH28kJSsRgtmfdVjGYQRwbFgrpzl4fdAmeemq/6nr8G8l5vef+/TgqsgId6vDHHQzzNeMDehneD93rxhSEdfri0tgs+/P3ne8HzmFRNnj3c+9f9rmIspp2qTmOoiClhO8PFeAC2RF4KP37/vUvn/U7k/aC6MNEFC7Q3g3VI5j/2YjcxJraGmU5jMKXHjehFadh/Acy7BG7d+vmlc+uHHQT+/rduMt8G5gEAAAAAAAAAAAAAAAAAvHP8oBd0Evg737jJgO+duAx+9pMe8L0OAn+wPXDnnWRp+g+95p+/Bitsl4GkF3Qi7zeXn8jfRb4wqv/xp9/0lt/9Hch7GXz3R5fv7k87kvcjo+RdRDmi/uNvf9lbgLxAXiAvkBfIC+QF8gJ5gbxAXiAvAMgL5AXyAnmBvEBeIC+QF8gL5AUAeYG8QF4gL5AXyAvkBQB5gbw3T16D1apsPvM8e6GUvHhSGl6gVL52Xfn813ou74sxKFtH3e5Q+dpZIO/1ltf6RVhikPNWKY1GY7j/blgiCYebf9KwgX9QCqeFK1ZDmH+S89eVYWtTF+H625DXGn4+ghbhWg8lRuPXxgTkve7yGpVLa4ODK4/ChpmVzbW1ze35/pFPlyS8AyPbyxL+5DZ/UrgyML+y1rxuHdke4C+HH20vh9+CvAZ+gM9GsKR8ZaZ1fmXAeFa/lTv8YXiZHx6Q96bIa5Ws+Yc2N+fmHoWXFYGhoUFFYD48Pai0SpQzikOJdX36cGhtTjG3NjRwRxFYGxr0D87M+Dd5Q/rvKJbkb0feobWAMIJDvn7gCxyl1Wrg/3WGDvsNSoP1mc/8YP2PwhL5oaKbEEDeqymvfEVx2H/37vycU7nsX5Ybjev+TaNzjc9xyhn1klJyuCk3PvnIP/AkfHdJvXzXaFj3fzoztyLIO6D+rP8tlQ1P1tWfPREKl/CI1SqXzBjkSskIb7E8PGM1ClWuYcavGLQq++9MrwN5b4q84Xn/ipw3Mbz+qWHZ/++wwWgcGvxf+/aPGrkOwHG83wMsbPnYZvcGrwiq7cIqDEYMMmYOIBXbTjEX0DQGLQvCB1DpxtidH54qlUq3WxqC5wwrj50/u9ukyJjw/PsQEjJOsGC+o8gehTzFy7WrBA8SdX7gQRWPERf7Q2dXjpfy4BhXD9wkQ1cMumHZYUhtM9K+dwU7UzrFG7uwDxDvluINqvAYEBHs9xdT5+Vlf6mVi06P8QpbaEqis/KZRlXsj+/r9Wdefy4fb0CiXrEm6eJ255Qt814UYXNmuV8uTPEmTVheKsS7oXjbfEx56fwVkSzDE2NMFdo8xUuPbMp0jneXX4/7Ne/q8abXeNNW3T+Iob5cfKq2aEWRRZc6nC7cqM4TeWD7M+LdUrzqGE3xMj+Xhf7KzbU2lU/xyqbnL+LNGucGKx7jzVeeedO2sIaKnWNFcZzijZu9KdU5nWbe/Jwew2pEvNuJ11+ftRGVUia5LdUoCDWGG5YRQXjpJ7NspOR52TCmdDquWeP/Ugc7law98578EsEdmqE9vIh3mXnPQjRxUyDezcRL0y4vI2HS3TVec30ba+9yG/CoVdaeJHkZbzQdp7Jj3P9Kk1uz9sxbGpsPJPKvq9/jnWZebnSmToh3O7fKjGa5G9ou72SpjvMN/rSOi7ZqlJOVo9d4w90y887P9aiyYXCqj+jKM6+PV8euTpiqfl82+Jl3x2k6hlg2bOkdNqHb7HToKs1tVy7vYInanU6s16TZXQO/7+4NMaMr55mWkmN3KLKBiLU25pja+ReOSRorSNJlruor7RLuqkjYaWw+XndPCedtVxrEu5l4CSfaaj3taJHPN1alf2w6IufnVspptSAJ/eP4WvH6sS0j8LTW/tv5ww/o+mn6Mv8coYh3O/GSp91i9Pl5Xx5a9mjNe7Ve7Niif23yuvWWyGUEy7mpHyqn84OPY1x2lWFL5KbixX5exIt4ES/iRbyIFxAv4kW8iBfxIl7EC4gX8SJexIt4ES/iRbyIF/EC4kW8iBfxIl7Ei3gRL+JFvJt2kwBeFe/0v/PvUVT8/Pb9pr4h3rdxd/f5zd29Kt5D9k6pH7f2X4x438Knf27g4ytO/O+H9+rrCqf4gvIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP6HfgEy7tkTHzumwQAAAABJRU5ErkJggg==)

要将此更改应用于我们正在运行的示例，请更改：

```cpp
数据集=文件。交错（ tf.data.TFRecordDataset ） _ _ _ _
```

到：

```cpp
数据集=文件。应用（ tf.contrib.data.parallel_interleave （ tf.data.TFRecordDataset ， cycle_length = FLAGS.num_parallel_readers ））_ 
    _ _ _ _ _ _ _ _ _ _ _
```

由于负载或网络事件，远程存储系统的吞吐量会随时间变化。为了解决这种差异，`parallel_interleave`转换可以选择使用预取。（详见[`tf.contrib.data.parallel_interleave`](https://www.tensorflow.org/api_docs/python/tf/contrib/data/parallel_interleave)）。

默认情况下，`parallel_interleave`转换提供了元素的确定性排序以帮助重现性。作为预取的替代方案（在某些情况下可能无效），`parallel_interleave`转换还提供了一个选项，可以以牺牲排序保证为代价来提高性能。特别是，如果`sloppy`参数设置为 true，则转换可能会偏离其其他确定性顺序，通过在请求下一个元素时临时跳过其元素不可用的文件。

## 性能注意事项

[`tf.data`](https://www.tensorflow.org/api_docs/python/tf/data)API 是围绕可组合转换设计的，为用户提供灵活性。尽管其中许多转换是可交换的，但某些转换的排序具有性能影响。

### 映射和批处理

调用传递给`map`转换的用户定义函数具有与调度和执行用户定义函数相关的开销。通常，与函数执行的计算量相比，此开销很小。但是，如果`map`做的很少，这种开销可能会主导总成本。在这种情况下，我们建议对用户定义的函数进行向量化（即，让它一次对一批输入进行操作）并在转换`batch`之前*应用*`map`转换。

### 地图和缓存

[`tf.data.Dataset.cache`](https://www.tensorflow.org/api_docs/python/tf/data/Dataset#cache)转换可以在内存或本地存储中缓存数据集。如果传递给`map`转换的用户定义函数很昂贵，只要结果数据集仍然可以放入内存或本地存储，就在映射转换之后应用缓存转换。如果用户定义的函数增加了存储数据集所需的空间超出缓存容量，请考虑在训练作业之前对数据进行预处理以减少资源使用。

### 映射和交错/预取/随机播放

许多转换，包括`interleave`、`prefetch`和`shuffle`，维护元素的内部缓冲区。如果传递给`map`转换的用户定义函数改变了元素的大小，那么映射转换的顺序和缓冲元素的转换会影响内存使用。通常，我们建议选择导致内存占用较低的顺序，除非不同的顺序对于性能是需要的（例如，启用映射和批量转换的融合）。

### 重复和随机播放

转换将[`tf.data.Dataset.repeat`](https://www.tensorflow.org/api_docs/python/tf/data/Dataset#repeat)输入数据重复有限（或无限）次；数据的每次重复通常称为一个*时期*。转换随机化了数据集示例的[`tf.data.Dataset.shuffle`](https://www.tensorflow.org/api_docs/python/tf/data/Dataset#shuffle)顺序。

如果在`repeat`变换之前应用`shuffle`变换，则纪元边界会模糊。也就是说，某些元素可以在其他元素出现之前重复一次。另一方面，如果在`shuffle`重复变换之前应用变换，则性能可能会在与变换的内部状态初始化相关的每个 epoch 开始时减慢`shuffle`。换句话说，前者（`repeat`之前`shuffle`）提供了更好的性能，而后者（`shuffle`之前`repeat`）提供了更强的排序保证。

如果可能，我们建议使用融合[`tf.contrib.data.shuffle_and_repeat`](https://www.tensorflow.org/api_docs/python/tf/contrib/data/shuffle_and_repeat)转换，它结合了两全其美（良好的性能和强大的排序保证）。否则，我们建议在重复之前洗牌。

## 最佳实践总结

以下是设计输入管道的最佳实践摘要：

- 使用`prefetch`转换来重叠生产者和消费者的工作。特别是，我们建议将 prefetch(n)（其中 n 是训练步骤消耗的元素/批次的数量）添加到输入管道的末尾，以将在 CPU 上执行的转换与在加速器上完成的训练重叠。
- `map`通过设置`num_parallel_calls`参数并行化转换。我们建议使用可用的 CPU 内核数作为其值。
- 如果您使用转换将预处理元素组合成批处理`batch`，我们建议使用融合`map_and_batch`转换；特别是如果您使用大批量。
- 如果您正在处理远程存储的数据和/或需要反序列化，我们建议使用`parallel_interleave`转换来重叠读取（和反序列化）来自不同文件的数据。
- 向量化传入转换的廉价用户定义函数，`map`以分摊与调度和执行函数相关的开销。
- 如果您的数据可以放入内存，请`cache`在第一个 epoch 期间使用转换将其缓存在内存中，以便后续 epoch 可以避免与读取、解析和转换相关的开销。
- 如果您的预处理增加了数据的大小，我们建议首先应用`interleave`、`prefetch`和`shuffle`（如果可能）以减少内存使用量。
- 我们建议在转换之前应用转换`shuffle`，*最好*`repeat`使用融合`shuffle_and_repeat`转换。